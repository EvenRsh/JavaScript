<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>07_模拟QQ发送消息</title>
		<style>
			textarea{
				display: block;
				width: 600px;
				height: 80px;
			}
			.qq{
				width: 600px;
				border: 5px solid #ddd;
				padding: 15px;
				border-radius:5px
			}
			.datalist li{
				border-bottom: 1px solid #ccc;
				padding: 5px 0;
			}
		</style>
		<script>
			window.onload = function(){
				
				var msg = document.getElementById("msg");
				var datalist = msg.previousElementSibling;
				var btnSend = msg.nextElementSibling;

				//点击发送按钮,生成消息
				btnSend.onclick = sendMsg;
					
			
				
				//ctrl + Enter 发送消息
				//绑定键盘事件
				msg.onkeyup = function(e){
					console.log(e.keyCode);
					if (e.keyCode ===13 && e.ctrlKey){
						sendMsg();
					}
				}
				function sendMsg(){
					//先获取输入的信息
					var _msg=msg.value;
					//创建一个li元素
					var li = document.createElement("li");
					li.innerHTML = _msg;
					datalist.appendChild(li);
					//清空输入框
					msg.value = "";
					msg.focus();
				}
			}
			
			
		</script>
		
		
	</head>
	<body>
		<h1>模拟QQ发送消息(ctrl + Enter )</h1>
		<div class="qq">
		<ul class='datalist'>
		</ul>
		<textarea  id="msg" ></textarea>
		<button>发送</button>
		</div>
	</body>
</html>
