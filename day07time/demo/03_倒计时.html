<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>一元秒杀</title>
		<script>
			window.onload = function (){
				//获取元素
				var time = document.getElementById("time");
				var btnBuy = document.getElementById("btnBuy");
				//设置开始购买的时间2016/12/12
				
				var end = Date.parse("2016/12/12 15:56:50")
				
				showTime();
				var timer = setInterval(showTime,1000)
				
				function showTime(){
					var now = Date.now();
					var offset = parseInt((end-now)/1000);
					
					if(offset<=0){
						btnBuy.src = "img/btn_buy.jpg";
						//清定时器
						clearInterval(timer);
						time.innerHTML = "";
						return;
					}
					//计算时间差
					//转换格式:xx时xx分xx秒
					var secLeft = offset%60;
					var minLeft = parseInt(offset/60%60);
					var hourLeft =parseInt(offset/60/60%24);
					var dateLeft =parseInt(offset/60/60/24);
					time.innerHTML = '距离活动还剩:'+dateLeft+'天'+hourLeft+"小时"+minLeft+'分'+secLeft+'秒';
				}
			}
			
			
		</script>
	</head>
	<body>
		<img src="img/1.jpg"  />
		<div id="time"></div>
		<img src="img/btn_buy0.jpg"  id="btnBuy"/>
	</body>
</html>
