<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>02加密解密</title>
	<script>
		/*
			1）获取页面元素
			2）加密：
				* 给#encode绑定点击
				* 加密输入得字符
				* 把加密后得字符写入#output
			3）解密：
				* 给#decode绑定点击事件
				* 把之前加密得内容解密
		 */
		
		// 延迟代码执行
		window.onload = function(){
			// 1）获取页面元素
			var str = document.getElementById('str');
			var encode = document.getElementById('encode');
			var decode = document.getElementById('decode');
			var output = document.getElementById('output');


			// 2.1）给#encode绑定点击
			encode.onclick = function(){
				// 加密输入得字符
				var val = str.value;
				console.log(val);

				// 遍历字符串，把每一个字符进行加密
				// 先把结果拼接起来，再一次性写入#output
				var res = '';
				for(var i=0;i<val.length;i++){
					// console.log(val.charCodeAt(i));
					// output.innerHTML += val.charCodeAt(i) + ',';
					// res = res + val.charCodeAt(i);
					res += val.charCodeAt(i) + ',';
				}
				// console.log(res.substring(0,res.length-1));
				// console.log(res.slice(0,-1));

				// 把加密后得字符写入#output
				output.innerHTML = res.slice(0,-1);
				
			}


			// 3.1）给#decode绑定点击事件
			decode.onclick = function(){
				// 获取加密内容
				var val = output.innerHTML;

				// 切割成数组
				var arr = val.split(',');

				var res = '';
				for(var i=0;i<arr.length;i++){
					res += String.fromCharCode(arr[i]);
				}
				output.innerHTML = res;
			}

		}


	</script>
</head>
<body>
	<!-- emmet -->
	<input type="text" id="str">
	<button id="encode">加密</button>
	<button id="decode">解密</button>
	<div id="output"></div>
</body>
</html>