<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>04滚动动轮播图</title>
	<style>
		ul{list-style: none;padding:0;margin:0;}
		.focus img{display: block;}
		.focus{position:relative;height:320px;overflow:hidden;}
		.focus ul{position:absolute;}
	</style>
	<script>
		window.onload = function(){
			var focus = document.getElementsByClassName('focus')[0];
			var ul = focus.children[0];
			var lis = ul.children;

			var index = 0;
			var itemHeight = focus.offsetHeight;

			// 3s切换一张图片
			// 怎么显示第二张
			// index ==> top
			// 0	==>	0
			// 1	==> -320px
			// 2	==> -640px
			// 3	==> -960px
			// 
			setInterval(function(){
				index++;

				// 速度
				var speed = -10;

				if(index >= lis.length){
					index = 0;
					speed = 30;
				}

				// 目标值
				var target = -index*itemHeight;
				clearInterval(ul.timer);

				ul.timer = setInterval(function(){
					var _top = ul.offsetTop;

					// 当top值到达目标值后，停止定时器
					if(_top == target){
						// _top = target + speed;
						clearInterval(ul.timer);
					}else{
						ul.style.top = _top + speed + 'px';
					}

				},30);
				
			},3000);
		}
	</script>
</head>
<body>
	<div class="focus">
		<ul>
			<li><img src="img/001.jpg"></li>
			<li><img src="img/002.jpg"></li>
			<li><img src="img/003.jpg"></li>
			<li><img src="img/004.jpg"></li>
		</ul>
	</div>
</body>
</html>